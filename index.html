<!DOCTYPE html>
<head> 
  <meta charset="utf-8">
  <title> Text in Conversation | Research Visualization </title> 
  <link rel="stylesheet" href="main.css">
  <link href='http://fonts.googleapis.com/css?family=Lato:300,400|Source+Sans+Pro:300,400' rel='stylesheet' type='text/css'>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

</head>

<body>
  <div class="container">
    <h3>Text in Conversation | Vincent Chen<h3> 
    <h1>Millennial Education: A Culture of "Getting In"</h1>
    <div class="scroll">
    <h2 id="source1"> Source 1 </h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi lobortis vitae dolor condimentum aliquam. Nam congue, diam sit amet venenatis luctus, risus massa eleifend magna, et luctus erat elit sed urna. Sed auctor mattis enim vel eleifend. In blandit sem a pharetra imperdiet. Donec placerat enim vulputate semper malesuada. Donec vulputate libero sed justo bibendum imperdiet. Mauris tincidunt turpis elit, eget porttitor lectus porta in. Donec dapibus ante quis nulla elementum, vel lobortis justo congue. Maecenas sed maximus leo. Maecenas et arcu ultrices, suscipit ipsum vel, interdum ligula. Phasellus auctor consectetur mi vel venenatis. Donec eleifend nisl sit amet sapien ultrices interdum. Nulla ac rhoncus turpis, sit amet malesuada lacus. Pellentesque sit amet justo eros. Sed ut erat nec risus blandit mattis. Ut nunc urna, ultrices a nisi eu, condimentum hendrerit nulla.</p>


    <h2 id="source2"> Source 2 </h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi lobortis vitae dolor condimentum aliquam. Nam congue, diam sit amet venenatis luctus, risus massa eleifend magna, et luctus erat elit sed urna. Sed auctor mattis enim vel eleifend. In blandit sem a pharetra imperdiet. Donec placerat enim vulputate semper malesuada. Donec vulputate libero sed justo bibendum imperdiet. Mauris tincidunt turpis elit, eget porttitor lectus porta in. Donec dapibus ante quis nulla elementum, vel lobortis justo congue. Maecenas sed maximus leo. Maecenas et arcu ultrices, suscipit ipsum vel, interdum ligula. Phasellus auctor consectetur mi vel venenatis. Donec eleifend nisl sit amet sapien ultrices interdum. Nulla ac rhoncus turpis, sit amet malesuada lacus. Pellentesque sit amet justo eros. Sed ut erat nec risus blandit mattis. Ut nunc urna, ultrices a nisi eu, condimentum hendrerit nulla.</p>

    <h2 id="source3"> Source 3 </h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi lobortis vitae dolor condimentum aliquam. Nam congue, diam sit amet venenatis luctus, risus massa eleifend magna, et luctus erat elit sed urna. Sed auctor mattis enim vel eleifend. In blandit sem a pharetra imperdiet. Donec placerat enim vulputate semper malesuada. Donec vulputate libero sed justo bibendum imperdiet. Mauris tincidunt turpis elit, eget porttitor lectus porta in. Donec dapibus ante quis nulla elementum, vel lobortis justo congue. Maecenas sed maximus leo. Maecenas et arcu ultrices, suscipit ipsum vel, interdum ligula. Phasellus auctor consectetur mi vel venenatis. Donec eleifend nisl sit amet sapien ultrices interdum. Nulla ac rhoncus turpis, sit amet malesuada lacus. Pellentesque sit amet justo eros. Sed ut erat nec risus blandit mattis. Ut nunc urna, ultrices a nisi eu, condimentum hendrerit nulla.</p>

    <h2 id="source4"> Source 4 </h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi lobortis vitae dolor condimentum aliquam. Nam congue, diam sit amet venenatis luctus, risus massa eleifend magna, et luctus erat elit sed urna. Sed auctor mattis enim vel eleifend. In blandit sem a pharetra imperdiet. Donec placerat enim vulputate semper malesuada. Donec vulputate libero sed justo bibendum imperdiet. Mauris tincidunt turpis elit, eget porttitor lectus porta in. Donec dapibus ante quis nulla elementum, vel lobortis justo congue. Maecenas sed maximus leo. Maecenas et arcu ultrices, suscipit ipsum vel, interdum ligula. Phasellus auctor consectetur mi vel venenatis. Donec eleifend nisl sit amet sapien ultrices interdum. Nulla ac rhoncus turpis, sit amet malesuada lacus. Pellentesque sit amet justo eros. Sed ut erat nec risus blandit mattis. Ut nunc urna, ultrices a nisi eu, condimentum hendrerit nulla.</p>

        <h2 id="source5"> Source 5 </h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi lobortis vitae dolor condimentum aliquam. Nam congue, diam sit amet venenatis luctus, risus massa eleifend magna, et luctus erat elit sed urna. Sed auctor mattis enim vel eleifend. In blandit sem a pharetra imperdiet. Donec placerat enim vulputate semper malesuada. Donec vulputate libero sed justo bibendum imperdiet. Mauris tincidunt turpis elit, eget porttitor lectus porta in. Donec dapibus ante quis nulla elementum, vel lobortis justo congue. Maecenas sed maximus leo. Maecenas et arcu ultrices, suscipit ipsum vel, interdum ligula. Phasellus auctor consectetur mi vel venenatis. Donec eleifend nisl sit amet sapien ultrices interdum. Nulla ac rhoncus turpis, sit amet malesuada lacus. Pellentesque sit amet justo eros. Sed ut erat nec risus blandit mattis. Ut nunc urna, ultrices a nisi eu, condimentum hendrerit nulla.</p>

        <h2 id="source6"> Source 6 </h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi lobortis vitae dolor condimentum aliquam. Nam congue, diam sit amet venenatis luctus, risus massa eleifend magna, et luctus erat elit sed urna. Sed auctor mattis enim vel eleifend. In blandit sem a pharetra imperdiet. Donec placerat enim vulputate semper malesuada. Donec vulputate libero sed justo bibendum imperdiet. Mauris tincidunt turpis elit, eget porttitor lectus porta in. Donec dapibus ante quis nulla elementum, vel lobortis justo congue. Maecenas sed maximus leo. Maecenas et arcu ultrices, suscipit ipsum vel, interdum ligula. Phasellus auctor consectetur mi vel venenatis. Donec eleifend nisl sit amet sapien ultrices interdum. Nulla ac rhoncus turpis, sit amet malesuada lacus. Pellentesque sit amet justo eros. Sed ut erat nec risus blandit mattis. Ut nunc urna, ultrices a nisi eu, condimentum hendrerit nulla.</p>

        <h2 id="source7"> Source 7 </h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi lobortis vitae dolor condimentum aliquam. Nam congue, diam sit amet venenatis luctus, risus massa eleifend magna, et luctus erat elit sed urna. Sed auctor mattis enim vel eleifend. In blandit sem a pharetra imperdiet. Donec placerat enim vulputate semper malesuada. Donec vulputate libero sed justo bibendum imperdiet. Mauris tincidunt turpis elit, eget porttitor lectus porta in. Donec dapibus ante quis nulla elementum, vel lobortis justo congue. Maecenas sed maximus leo. Maecenas et arcu ultrices, suscipit ipsum vel, interdum ligula. Phasellus auctor consectetur mi vel venenatis. Donec eleifend nisl sit amet sapien ultrices interdum. Nulla ac rhoncus turpis, sit amet malesuada lacus. Pellentesque sit amet justo eros. Sed ut erat nec risus blandit mattis. Ut nunc urna, ultrices a nisi eu, condimentum hendrerit nulla.</p>

    <h2 id="source8"> Source 8 </h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi lobortis vitae dolor condimentum aliquam. Nam congue, diam sit amet venenatis luctus, risus massa eleifend magna, et luctus erat elit sed urna. Sed auctor mattis enim vel eleifend. In blandit sem a pharetra imperdiet. Donec placerat enim vulputate semper malesuada. Donec vulputate libero sed justo bibendum imperdiet. Mauris tincidunt turpis elit, eget porttitor lectus porta in. Donec dapibus ante quis nulla elementum, vel lobortis justo congue. Maecenas sed maximus leo. Maecenas et arcu ultrices, suscipit ipsum vel, interdum ligula. Phasellus auctor consectetur mi vel venenatis. Donec eleifend nisl sit amet sapien ultrices interdum. Nulla ac rhoncus turpis, sit amet malesuada lacus. Pellentesque sit amet justo eros. Sed ut erat nec risus blandit mattis. Ut nunc urna, ultrices a nisi eu, condimentum hendrerit nulla.</p>

  </div>
</div>

  <div style="text-align:center">
    <p>Click nodes to jump to source.</br>
    <span style="color:red"> Disagreements</span> vs. <span style="color:green">Agreements</span></p>
  </div>

  <script>
  $(document).ready(function(){

    $('a').click(function(){
        $('html, body').animate({
            scrollTop: $( $(this).attr('href') ).offset().top
        }, 500);
        return false;
    });

  });

  var nodes = [
    {name: "Microsoft", "url": "#source1"},
    {name: "Amazon", "url": "#source2"},
    {name: "HTC", "url": "#source3"},
    {name: "Samsung", "url": "#source4"},
    {name: "Apple", "url": "#source5"},
    {name: "Nokia", "url": "#source6"},
    {name: "HTC", "url": "#source7"},
    {name: "Barnes & Noble", "url": "#source8"}
  ];

  var links = [
    {source: 0, target: 1, type: "agree"},
    {source: 2, target: 1, type: "agree"},
    {source: 4, target: 2, type: "disagree"},
    {source: 3, target: 5, type: "disagree"},
    {source: 7, target: 6, type: "relevant"},
    {source: 3, target: 6, type: "disagree"},
    {source: 6, target: 4, type: "disagree"},
    {source: 2, target: 4, type: "disagree"},
  ];

  var width = 960,
      height = 300;

  var force = d3.layout.force()
      .nodes(d3.values(nodes))
      .links(links)
      .size([width, height])
      .linkDistance(100)
      .charge(-300)
      .on("tick", tick)
      .start();

  var svg = d3.select("body").append("svg")
      .attr("width", width)
      .attr("height", height);

  // Per-type markers, as they don't inherit styles.
  svg.append("defs").selectAll("marker")
      .data(["agree", "disagree", "relevant"])
    .enter().append("marker")
      .attr("id", function(d) { return d; })
      .attr("viewBox", "0 -5 10 10")
      .attr("refX", 15)
      .attr("refY", -1.5)
      .attr("markerWidth", 6)
      .attr("markerHeight", 6)
      .attr("orient", "auto")
    .append("path")
      .attr("d", "M0,-5L10,0L0,5");

  var path = svg.append("g").selectAll("path")
      .data(force.links())
    .enter().append("path")
      .attr("class", function(d) { return "link " + d.type; })
      .attr("marker-end", function(d) { return "url(#" + d.type + ")"; });


  var circle = svg.append("g").selectAll("circle")
      .data(force.nodes())
    .enter().append("circle")
      .attr("r", 5) 
      .on('click', function(d, i) {
        window.location.href = d.url;
      })
      .call(force.drag);

  var text = svg.append("g").selectAll("text")
      .data(force.nodes())
    .enter().append("text")
      .style("font-size","18px")
      .attr("x", 15)
      .attr("y", ".31em")
      .text(function(d) { return d.name; });

          //show text
      

  // Use elliptical arc path segments to doubly-encode directionality.
  function tick() {
    path.attr("d", linkArc);
    circle.attr("transform", transform);  
    text.attr("transform", transform);
  }

  function linkArc(d) {
    var dx = d.target.x - d.source.x,
        dy = d.target.y - d.source.y,
        dr = Math.sqrt(dx * dx + dy * dy);
    return "M" + d.source.x + "," + d.source.y + "A" + dr + "," + dr + " 0 0,1 " + d.target.x + "," + d.target.y;
  }

  function transform(d) {
    return "translate(" + d.x + "," + d.y + ")";
  }
  </script>

</body> 
